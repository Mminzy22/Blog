{% capture tocWorkspace %}
    {% comment %}
        간소화된 TOC 생성 코드.
        이 코드는 제목 태그(h2~h3)를 기반으로 목차를 생성합니다.
        필요한 경우 아래 주석에 따라 설정을 변경하세요.
    {% endcomment %}

    {% assign minHeader = include.h_min | default: 2 %}  {# 최소 포함할 헤더 레벨 (기본값: h2) #}
    {% assign maxHeader = include.h_max | default: 3 %}  {# 최대 포함할 헤더 레벨 (기본값: h3) #}
    {% assign nodes = include.html | strip | split: '<h' %} {# HTML 내용을 <h로 분리 #}
    {% assign jekyll_toc = '' %} {# TOC를 저장할 변수 초기화 #}

    {% for node in nodes %}
        {% assign currLevel = node | slice: 0, 1 | times: 1 %}
        {% if currLevel < minHeader or currLevel > maxHeader %}
            {% continue %} {# 설정된 레벨 이외의 항목은 무시 #}
        {% endif %}

        {% assign content = node | split: '>' %}
        {% assign headerText = content[1] | split: '<' | first %}
        {% assign htmlID = content[0] | split: 'id="' | last | split: '"' | first %}

        {% if htmlID %}
            {% capture tocEntry %}
                <li>
                    <a href="#{{ htmlID }}">{{ headerText }}</a>
                </li>
            {% endcapture %}
            {% assign jekyll_toc = jekyll_toc | append: tocEntry %}
        {% endif %}
    {% endfor %}

    {% if jekyll_toc != '' %}
        <ul class="{{ include.class | default: 'toc-list' }}">
            {{ jekyll_toc }}
        </ul>
    {% endif %}
{% endcapture %}
{{ tocWorkspace }}
